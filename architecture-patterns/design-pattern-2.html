<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Architecture Patterns; MV(X) essentials | Today I Learned</title>
    <meta name="generator" content="VuePress 1.8.1">
    <link rel="icon" href="/TIL/logo.png">
    <meta name="description" content="Sunggwon's Personal Wiki (Today I Learned)">
    
    <link rel="preload" href="/TIL/assets/css/0.styles.d32b1f14.css" as="style"><link rel="preload" href="/TIL/assets/js/app.93665678.js" as="script"><link rel="preload" href="/TIL/assets/js/2.97e129ee.js" as="script"><link rel="preload" href="/TIL/assets/js/10.48baec32.js" as="script"><link rel="prefetch" href="/TIL/assets/js/100.3cb9966f.js"><link rel="prefetch" href="/TIL/assets/js/101.672eacca.js"><link rel="prefetch" href="/TIL/assets/js/102.f1f06a5f.js"><link rel="prefetch" href="/TIL/assets/js/103.e1ace32a.js"><link rel="prefetch" href="/TIL/assets/js/104.9f64beaa.js"><link rel="prefetch" href="/TIL/assets/js/105.80138abc.js"><link rel="prefetch" href="/TIL/assets/js/106.20442798.js"><link rel="prefetch" href="/TIL/assets/js/107.6ca186a7.js"><link rel="prefetch" href="/TIL/assets/js/108.a340e49d.js"><link rel="prefetch" href="/TIL/assets/js/109.644f8bd3.js"><link rel="prefetch" href="/TIL/assets/js/11.e77af798.js"><link rel="prefetch" href="/TIL/assets/js/110.7dbd280e.js"><link rel="prefetch" href="/TIL/assets/js/111.19a523f4.js"><link rel="prefetch" href="/TIL/assets/js/112.c565863a.js"><link rel="prefetch" href="/TIL/assets/js/113.eb5c5f7d.js"><link rel="prefetch" href="/TIL/assets/js/114.5a900ce3.js"><link rel="prefetch" href="/TIL/assets/js/115.a61807e7.js"><link rel="prefetch" href="/TIL/assets/js/116.0a8f00cc.js"><link rel="prefetch" href="/TIL/assets/js/117.55086b83.js"><link rel="prefetch" href="/TIL/assets/js/118.b0d534f8.js"><link rel="prefetch" href="/TIL/assets/js/119.fbff7023.js"><link rel="prefetch" href="/TIL/assets/js/12.2026c459.js"><link rel="prefetch" href="/TIL/assets/js/13.c1957b3b.js"><link rel="prefetch" href="/TIL/assets/js/14.e79dcee6.js"><link rel="prefetch" href="/TIL/assets/js/15.cf982d6c.js"><link rel="prefetch" href="/TIL/assets/js/16.5c5ffc95.js"><link rel="prefetch" href="/TIL/assets/js/17.4fcb9c94.js"><link rel="prefetch" href="/TIL/assets/js/18.75a50ff6.js"><link rel="prefetch" href="/TIL/assets/js/19.0044386c.js"><link rel="prefetch" href="/TIL/assets/js/20.59dfd562.js"><link rel="prefetch" href="/TIL/assets/js/21.c7276aa1.js"><link rel="prefetch" href="/TIL/assets/js/22.d20f101f.js"><link rel="prefetch" href="/TIL/assets/js/23.550aa982.js"><link rel="prefetch" href="/TIL/assets/js/24.0acd2437.js"><link rel="prefetch" href="/TIL/assets/js/25.dbdfe4e7.js"><link rel="prefetch" href="/TIL/assets/js/26.5670d2a7.js"><link rel="prefetch" href="/TIL/assets/js/27.1a267a73.js"><link rel="prefetch" href="/TIL/assets/js/28.35e9bc29.js"><link rel="prefetch" href="/TIL/assets/js/29.a7299f1b.js"><link rel="prefetch" href="/TIL/assets/js/3.cec55781.js"><link rel="prefetch" href="/TIL/assets/js/30.556eee20.js"><link rel="prefetch" href="/TIL/assets/js/31.f9495239.js"><link rel="prefetch" href="/TIL/assets/js/32.5bb59d8e.js"><link rel="prefetch" href="/TIL/assets/js/33.aa524b1e.js"><link rel="prefetch" href="/TIL/assets/js/34.b6d539e6.js"><link rel="prefetch" href="/TIL/assets/js/35.7abc50b4.js"><link rel="prefetch" href="/TIL/assets/js/36.bc40655c.js"><link rel="prefetch" href="/TIL/assets/js/37.c544caf1.js"><link rel="prefetch" href="/TIL/assets/js/38.0fc7369f.js"><link rel="prefetch" href="/TIL/assets/js/39.edad1b6f.js"><link rel="prefetch" href="/TIL/assets/js/4.b59c4f74.js"><link rel="prefetch" href="/TIL/assets/js/40.d497a30b.js"><link rel="prefetch" href="/TIL/assets/js/41.4ae6c953.js"><link rel="prefetch" href="/TIL/assets/js/42.abe6909b.js"><link rel="prefetch" href="/TIL/assets/js/43.d877f06c.js"><link rel="prefetch" href="/TIL/assets/js/44.9fe38f5e.js"><link rel="prefetch" href="/TIL/assets/js/45.031dc0b5.js"><link rel="prefetch" href="/TIL/assets/js/46.16ba8131.js"><link rel="prefetch" href="/TIL/assets/js/47.6c807bbd.js"><link rel="prefetch" href="/TIL/assets/js/48.35e3eef9.js"><link rel="prefetch" href="/TIL/assets/js/49.1015a536.js"><link rel="prefetch" href="/TIL/assets/js/5.9f0d104c.js"><link rel="prefetch" href="/TIL/assets/js/50.0c005bef.js"><link rel="prefetch" href="/TIL/assets/js/51.e1988ebe.js"><link rel="prefetch" href="/TIL/assets/js/52.0a59e3be.js"><link rel="prefetch" href="/TIL/assets/js/53.aa10505a.js"><link rel="prefetch" href="/TIL/assets/js/54.1c248bbe.js"><link rel="prefetch" href="/TIL/assets/js/55.b137664f.js"><link rel="prefetch" href="/TIL/assets/js/56.0b53cfb1.js"><link rel="prefetch" href="/TIL/assets/js/57.f3c484a7.js"><link rel="prefetch" href="/TIL/assets/js/58.c611eb11.js"><link rel="prefetch" href="/TIL/assets/js/59.91568363.js"><link rel="prefetch" href="/TIL/assets/js/6.daa0ede0.js"><link rel="prefetch" href="/TIL/assets/js/60.3d08a916.js"><link rel="prefetch" href="/TIL/assets/js/61.e99ec67f.js"><link rel="prefetch" href="/TIL/assets/js/62.1eaaabb3.js"><link rel="prefetch" href="/TIL/assets/js/63.82b1431e.js"><link rel="prefetch" href="/TIL/assets/js/64.20b11de7.js"><link rel="prefetch" href="/TIL/assets/js/65.b6861cba.js"><link rel="prefetch" href="/TIL/assets/js/66.a5f0a028.js"><link rel="prefetch" href="/TIL/assets/js/67.08133a7a.js"><link rel="prefetch" href="/TIL/assets/js/68.5d5d1462.js"><link rel="prefetch" href="/TIL/assets/js/69.2365af47.js"><link rel="prefetch" href="/TIL/assets/js/7.dc70adec.js"><link rel="prefetch" href="/TIL/assets/js/70.5e725187.js"><link rel="prefetch" href="/TIL/assets/js/71.84f080db.js"><link rel="prefetch" href="/TIL/assets/js/72.a08e4a96.js"><link rel="prefetch" href="/TIL/assets/js/73.d531ad31.js"><link rel="prefetch" href="/TIL/assets/js/74.adc6049c.js"><link rel="prefetch" href="/TIL/assets/js/75.2b5f2e98.js"><link rel="prefetch" href="/TIL/assets/js/76.92bcb404.js"><link rel="prefetch" href="/TIL/assets/js/77.dfd673b8.js"><link rel="prefetch" href="/TIL/assets/js/78.cb9b1fdc.js"><link rel="prefetch" href="/TIL/assets/js/79.2440e783.js"><link rel="prefetch" href="/TIL/assets/js/8.c5c73bc8.js"><link rel="prefetch" href="/TIL/assets/js/80.85c6005c.js"><link rel="prefetch" href="/TIL/assets/js/81.dce232a1.js"><link rel="prefetch" href="/TIL/assets/js/82.02150e69.js"><link rel="prefetch" href="/TIL/assets/js/83.9506a467.js"><link rel="prefetch" href="/TIL/assets/js/84.7ade1935.js"><link rel="prefetch" href="/TIL/assets/js/85.5e7bd45f.js"><link rel="prefetch" href="/TIL/assets/js/86.c1c9d942.js"><link rel="prefetch" href="/TIL/assets/js/87.761c7016.js"><link rel="prefetch" href="/TIL/assets/js/88.4292ee6b.js"><link rel="prefetch" href="/TIL/assets/js/89.5e1384a8.js"><link rel="prefetch" href="/TIL/assets/js/9.a2e7de2a.js"><link rel="prefetch" href="/TIL/assets/js/90.a8ccbc9d.js"><link rel="prefetch" href="/TIL/assets/js/91.a8f51152.js"><link rel="prefetch" href="/TIL/assets/js/92.c09e17d1.js"><link rel="prefetch" href="/TIL/assets/js/93.26912db6.js"><link rel="prefetch" href="/TIL/assets/js/94.c436fff4.js"><link rel="prefetch" href="/TIL/assets/js/95.708c2a5e.js"><link rel="prefetch" href="/TIL/assets/js/96.98f808a4.js"><link rel="prefetch" href="/TIL/assets/js/97.0cf561d1.js"><link rel="prefetch" href="/TIL/assets/js/98.92f08c25.js"><link rel="prefetch" href="/TIL/assets/js/99.703a0050.js">
    <link rel="stylesheet" href="/TIL/assets/css/0.styles.d32b1f14.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/TIL/" class="home-link router-link-active"><!----> <span class="site-name">Today I Learned</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/iosdevted/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://sunggweon.dev" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/iosdevted/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://sunggweon.dev" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Swift / iOS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>RxSwift</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>iOS Development</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Graphics &amp; Animation</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Core Concepts</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Architecture Patterns</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/TIL/architecture-patterns/singleton.html" class="sidebar-link">Singleton Pattern</a></li><li><a href="/TIL/architecture-patterns/design-pattern.html" class="sidebar-link">Design Patterns; Creational, Structural, Behavioral design</a></li><li><a href="/TIL/architecture-patterns/design-pattern-2.html" aria-current="page" class="active sidebar-link">Architecture Patterns; MV(X) essentials</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/TIL/architecture-patterns/design-pattern-2.html#why-start-by-choosing-the-appropriate-app-architecture" class="sidebar-link">Why start by choosing the appropriate app architecture?</a></li><li class="sidebar-sub-header"><a href="/TIL/architecture-patterns/design-pattern-2.html#mv-x-essentials" class="sidebar-link">MV(X) essentials</a></li><li class="sidebar-sub-header"><a href="/TIL/architecture-patterns/design-pattern-2.html#mvc-model-view-controller" class="sidebar-link">MVC (Model-View-Controller)</a></li><li class="sidebar-sub-header"><a href="/TIL/architecture-patterns/design-pattern-2.html#mvp-model-view-presenter" class="sidebar-link">MVP (Model-View-Presenter)</a></li><li class="sidebar-sub-header"><a href="/TIL/architecture-patterns/design-pattern-2.html#mvvm-model-view-view-model" class="sidebar-link">MVVM (Model-View-View Model)</a></li><li class="sidebar-sub-header"><a href="/TIL/architecture-patterns/design-pattern-2.html#viper" class="sidebar-link">VIPER</a></li><li class="sidebar-sub-header"><a href="/TIL/architecture-patterns/design-pattern-2.html#references" class="sidebar-link">References</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Networking</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>SQL &amp; Data</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Unit Test</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>CI &amp; CD</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>UI &amp; UX</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Map &amp; Location APIs</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Git</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Common Lisp</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Université Paris 8</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Useful Articles</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="architecture-patterns-mv-x-essentials"><a href="#architecture-patterns-mv-x-essentials" class="header-anchor">#</a> Architecture Patterns; MV(X) essentials</h1> <p>There was a time, not too long back, when designing an iOS app meant relying on one of the three design patterns, namely, the singleton pattern, the decorator pattern, and the bridge design pattern. But, since these patterns started throwing up issues of interactions among client and server, <strong>iOS moved towards the newer and better patterns of MVP, MVVM, MVC, and Viper.</strong></p> <h2 id="why-start-by-choosing-the-appropriate-app-architecture"><a href="#why-start-by-choosing-the-appropriate-app-architecture" class="header-anchor">#</a> Why start by choosing the appropriate app architecture?</h2> <p>Mainly, it helps eliminate the possibility of having a nightmare when trying to implement additional features or debug some issues. The less code you write, the less chance there is of something going wrong, and the app architectures help prevent code duplication, bad programming practices, and messy code. This leads to a good base for a healthy code environment.</p> <h2 id="mv-x-essentials"><a href="#mv-x-essentials" class="header-anchor">#</a> MV(X) essentials</h2> <p>Nowadays we have many options when it comes to architecture design patterns:</p> <ul><li><p><a href="https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller" target="_blank" rel="noopener noreferrer">MVC (Model-View-Controller)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p><a href="https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93presenter" target="_blank" rel="noopener noreferrer">MVP (Model-View-Presenter)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p><a href="https://en.wikipedia.org/wiki/Model_View_ViewModel" target="_blank" rel="noopener noreferrer">MVVM (Model-View-View Model)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p><a href="https://www.objc.io/issues/13-architecture/viper/" target="_blank" rel="noopener noreferrer">VIPER<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li></ul> <p>Before explaining the architectural patterns, basic concepts of Model and View should be explained:</p> <ul><li><p>Models - responsible for the domain data or a <a href="https://en.wikipedia.org/wiki/Data_access_layer" target="_blank" rel="noopener noreferrer">data access layer<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> which manipulates the data, think of <code>‘Person’</code> or <code>‘PersonDataProvider’</code> classes.</p></li> <li><p>Views - responsible for the presentation layer (<code>GUI</code>), for iOS environment think of everything starting with <code>‘UI’</code> prefix.</p></li> <li><p>Controller/Presenter/ViewModel - the glue or the mediator between the <code>Model</code> and the <code>View</code>, in general responsible for altering the <code>Model</code> by reacting to the user’s actions performed on the <code>View</code> and updating the <code>View</code> with changes from the <code>Model</code>.</p></li></ul> <p>Having entities divided allows us to:</p> <ul><li><p>understand them better (as we already know)</p></li> <li><p>reuse them (mostly applicable to the View and the Model)</p></li> <li><p>test them independently</p></li></ul> <h2 id="mvc-model-view-controller"><a href="#mvc-model-view-controller" class="header-anchor">#</a> MVC (Model-View-Controller)</h2> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">import</span> <span class="token builtin">UIKit</span>

<span class="token keyword">struct</span> <span class="token builtin">Person</span> <span class="token punctuation">{</span> <span class="token comment">// Model</span>
    <span class="token keyword">let</span> firstName<span class="token punctuation">:</span> <span class="token builtin">String</span>
    <span class="token keyword">let</span> lastName<span class="token punctuation">:</span> <span class="token builtin">String</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">GreetingViewController</span> <span class="token punctuation">:</span> <span class="token builtin">UIViewController</span> <span class="token punctuation">{</span> <span class="token comment">// View + Controller</span>
    <span class="token keyword">var</span> person<span class="token punctuation">:</span> <span class="token builtin">Person</span><span class="token operator">!</span>
    <span class="token keyword">let</span> showGreetingButton <span class="token operator">=</span> <span class="token function">UIButton</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">let</span> greetingLabel <span class="token operator">=</span> <span class="token function">UILabel</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    
    <span class="token keyword">override</span> <span class="token keyword">func</span> <span class="token function">viewDidLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">viewDidLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">self</span><span class="token punctuation">.</span>showGreetingButton<span class="token punctuation">.</span><span class="token function">addTarget</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">,</span> action<span class="token punctuation">:</span> <span class="token string">&quot;didTapButton:&quot;</span><span class="token punctuation">,</span> forControlEvents<span class="token punctuation">:</span> <span class="token punctuation">.</span><span class="token builtin">TouchUpInside</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">func</span> <span class="token function">didTapButton</span><span class="token punctuation">(</span>button<span class="token punctuation">:</span> <span class="token builtin">UIButton</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> greeting <span class="token operator">=</span> <span class="token string">&quot;Hello&quot;</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> <span class="token keyword">self</span><span class="token punctuation">.</span>person<span class="token punctuation">.</span>firstName <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> <span class="token keyword">self</span><span class="token punctuation">.</span>person<span class="token punctuation">.</span>lastName
        <span class="token keyword">self</span><span class="token punctuation">.</span>greetingLabel<span class="token punctuation">.</span>text <span class="token operator">=</span> greeting
        
    <span class="token punctuation">}</span>
    <span class="token comment">// layout code goes here</span>
<span class="token punctuation">}</span>
<span class="token comment">// Assembling of MVC</span>
<span class="token keyword">let</span> model <span class="token operator">=</span> <span class="token function">Person</span><span class="token punctuation">(</span>firstName<span class="token punctuation">:</span> <span class="token string">&quot;David&quot;</span><span class="token punctuation">,</span> lastName<span class="token punctuation">:</span> <span class="token string">&quot;Blaine&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> view <span class="token operator">=</span> <span class="token function">GreetingViewController</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
view<span class="token punctuation">.</span>person <span class="token operator">=</span> model<span class="token punctuation">;</span>
</code></pre></div><h2 id="mvp-model-view-presenter"><a href="#mvp-model-view-presenter" class="header-anchor">#</a> MVP (Model-View-Presenter)</h2> <p>MVC는 View와 Model사이의 의존성이 존재했지만 MVP에서는 의존성을 제거
presenter는 <code>Model로 부터 데이터를 받는 역할을 대신 실천</code>, 또한 <code>view controller의 생명주기에 관여하지 않음</code>
presenter는 view에 쉽게 접근 가능</p> <p>단순히 Controller의 부하만 떨어뜨린것이 아닌 &quot;테스트 용이성&quot;의 장점도 탄생</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">import</span> <span class="token builtin">UIKit</span>

<span class="token keyword">struct</span> <span class="token builtin">Person</span> <span class="token punctuation">{</span> <span class="token comment">// Model</span>
    <span class="token keyword">let</span> firstName<span class="token punctuation">:</span> <span class="token builtin">String</span>
    <span class="token keyword">let</span> lastName<span class="token punctuation">:</span> <span class="token builtin">String</span>
<span class="token punctuation">}</span>

<span class="token keyword">protocol</span> <span class="token builtin">GreetingView</span><span class="token punctuation">:</span> <span class="token keyword">class</span> <span class="token punctuation">{</span>
    <span class="token keyword">func</span> <span class="token function">setGreeting</span><span class="token punctuation">(</span>greeting<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">protocol</span> <span class="token builtin">GreetingViewPresenter</span> <span class="token punctuation">{</span>
    <span class="token keyword">init</span><span class="token punctuation">(</span>view<span class="token punctuation">:</span> <span class="token builtin">GreetingView</span><span class="token punctuation">,</span> person<span class="token punctuation">:</span> <span class="token builtin">Person</span><span class="token punctuation">)</span>
    <span class="token keyword">func</span> <span class="token function">showGreeting</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">GreetingPresenter</span> <span class="token punctuation">:</span> <span class="token builtin">GreetingViewPresenter</span> <span class="token punctuation">{</span>
    <span class="token keyword">unowned</span> <span class="token keyword">let</span> view<span class="token punctuation">:</span> <span class="token builtin">GreetingView</span>
    <span class="token keyword">let</span> person<span class="token punctuation">:</span> <span class="token builtin">Person</span>
    <span class="token keyword">required</span> <span class="token keyword">init</span><span class="token punctuation">(</span>view<span class="token punctuation">:</span> <span class="token builtin">GreetingView</span><span class="token punctuation">,</span> person<span class="token punctuation">:</span> <span class="token builtin">Person</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">self</span><span class="token punctuation">.</span>view <span class="token operator">=</span> view
        <span class="token keyword">self</span><span class="token punctuation">.</span>person <span class="token operator">=</span> person
    <span class="token punctuation">}</span>
    <span class="token keyword">func</span> <span class="token function">showGreeting</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> greeting <span class="token operator">=</span> <span class="token string">&quot;Hello&quot;</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> <span class="token keyword">self</span><span class="token punctuation">.</span>person<span class="token punctuation">.</span>firstName <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> <span class="token keyword">self</span><span class="token punctuation">.</span>person<span class="token punctuation">.</span>lastName
        <span class="token keyword">self</span><span class="token punctuation">.</span>view<span class="token punctuation">.</span><span class="token function">setGreeting</span><span class="token punctuation">(</span>greeting<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">GreetingViewController</span> <span class="token punctuation">:</span> <span class="token builtin">UIViewController</span><span class="token punctuation">,</span> <span class="token builtin">GreetingView</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> presenter<span class="token punctuation">:</span> <span class="token builtin">GreetingViewPresenter</span><span class="token operator">!</span>
    <span class="token keyword">let</span> showGreetingButton <span class="token operator">=</span> <span class="token function">UIButton</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">let</span> greetingLabel <span class="token operator">=</span> <span class="token function">UILabel</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    
    <span class="token keyword">override</span> <span class="token keyword">func</span> <span class="token function">viewDidLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">viewDidLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">self</span><span class="token punctuation">.</span>showGreetingButton<span class="token punctuation">.</span><span class="token function">addTarget</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">,</span> action<span class="token punctuation">:</span> <span class="token string">&quot;didTapButton:&quot;</span><span class="token punctuation">,</span> forControlEvents<span class="token punctuation">:</span> <span class="token punctuation">.</span><span class="token builtin">TouchUpInside</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">func</span> <span class="token function">didTapButton</span><span class="token punctuation">(</span>button<span class="token punctuation">:</span> <span class="token builtin">UIButton</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">self</span><span class="token punctuation">.</span>presenter<span class="token punctuation">.</span><span class="token function">showGreeting</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">func</span> <span class="token function">setGreeting</span><span class="token punctuation">(</span>greeting<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">self</span><span class="token punctuation">.</span>greetingLabel<span class="token punctuation">.</span>text <span class="token operator">=</span> greeting
    <span class="token punctuation">}</span>
    
    <span class="token comment">// layout code goes here</span>
<span class="token punctuation">}</span>
<span class="token comment">// Assembling of MVP</span>
<span class="token keyword">let</span> model <span class="token operator">=</span> <span class="token function">Person</span><span class="token punctuation">(</span>firstName<span class="token punctuation">:</span> <span class="token string">&quot;David&quot;</span><span class="token punctuation">,</span> lastName<span class="token punctuation">:</span> <span class="token string">&quot;Blaine&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> view <span class="token operator">=</span> <span class="token function">GreetingViewController</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> presenter <span class="token operator">=</span> <span class="token function">GreetingPresenter</span><span class="token punctuation">(</span>view<span class="token punctuation">:</span> view<span class="token punctuation">,</span> person<span class="token punctuation">:</span> model<span class="token punctuation">)</span>
view<span class="token punctuation">.</span>presenter <span class="token operator">=</span> presenter
</code></pre></div><h2 id="mvvm-model-view-view-model"><a href="#mvvm-model-view-view-model" class="header-anchor">#</a> MVVM (Model-View-View Model)</h2> <p>View속에 Controller가 내제되어 있으며, View Model은 View에 대한 데이터 정보를 모르고(뷰 자체 안에서 처리) <code>데이터 바인딩 실현*</code>(contorller에 대한 부하 감소)</p> <p>MVC에서는 Controller에 많은 부하를 주었기 때문에 View쪽으로 Controller를 보내고 비어있는 Controller자리에 중재역할을 할 View Model 개념을 삽입한 것 뿐</p> <p>MVP는 Presenter가 View의 정보를 알고 update하지만, <code>MVVM에서는 View Model이 View의 정보를 모름</code></p> <ul><li><code>View와 View Model은 1대 n 관계</code></li></ul> <ul><li>데이터 바인딩(binding) : View와 View Model 사이의 양방향 데이터 흐름 (옵저버 프로퍼티의 didSet과 같은 것이 바인딩의 예 -단방향 바인딩)</li></ul> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">import</span> <span class="token builtin">UIKit</span>

<span class="token keyword">struct</span> <span class="token builtin">Person</span> <span class="token punctuation">{</span> <span class="token comment">// Model</span>
    <span class="token keyword">let</span> firstName<span class="token punctuation">:</span> <span class="token builtin">String</span>
    <span class="token keyword">let</span> lastName<span class="token punctuation">:</span> <span class="token builtin">String</span>
<span class="token punctuation">}</span>

<span class="token keyword">protocol</span> <span class="token builtin">GreetingViewModelProtocol</span><span class="token punctuation">:</span> <span class="token keyword">class</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> greeting<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token punctuation">}</span>
    <span class="token keyword">var</span> greetingDidChange<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token builtin">GreetingViewModelProtocol</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token keyword">get</span> <span class="token keyword">set</span> <span class="token punctuation">}</span> <span class="token comment">// function to call when greeting did change</span>
    <span class="token keyword">init</span><span class="token punctuation">(</span>person<span class="token punctuation">:</span> <span class="token builtin">Person</span><span class="token punctuation">)</span>
    <span class="token keyword">func</span> <span class="token function">showGreeting</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">GreetingViewModel</span> <span class="token punctuation">:</span> <span class="token builtin">GreetingViewModelProtocol</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> person<span class="token punctuation">:</span> <span class="token builtin">Person</span>
    <span class="token keyword">var</span> greeting<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token operator">?</span> <span class="token punctuation">{</span>
        <span class="token keyword">didSet</span> <span class="token punctuation">{</span>
            <span class="token keyword">self</span><span class="token punctuation">.</span>greetingDidChange<span class="token operator">?</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">var</span> greetingDidChange<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token builtin">GreetingViewModelProtocol</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">?</span>
    <span class="token keyword">required</span> <span class="token keyword">init</span><span class="token punctuation">(</span>person<span class="token punctuation">:</span> <span class="token builtin">Person</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">self</span><span class="token punctuation">.</span>person <span class="token operator">=</span> person
    <span class="token punctuation">}</span>
    <span class="token keyword">func</span> <span class="token function">showGreeting</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">self</span><span class="token punctuation">.</span>greeting <span class="token operator">=</span> <span class="token string">&quot;Hello&quot;</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> <span class="token keyword">self</span><span class="token punctuation">.</span>person<span class="token punctuation">.</span>firstName <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> <span class="token keyword">self</span><span class="token punctuation">.</span>person<span class="token punctuation">.</span>lastName
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">GreetingViewController</span> <span class="token punctuation">:</span> <span class="token builtin">UIViewController</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> viewModel<span class="token punctuation">:</span> <span class="token builtin">GreetingViewModelProtocol</span><span class="token operator">!</span> <span class="token punctuation">{</span>
        <span class="token keyword">didSet</span> <span class="token punctuation">{</span>
            <span class="token keyword">self</span><span class="token punctuation">.</span>viewModel<span class="token punctuation">.</span>greetingDidChange <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span><span class="token keyword">unowned</span> <span class="token keyword">self</span><span class="token punctuation">]</span> viewModel <span class="token keyword">in</span>
                <span class="token keyword">self</span><span class="token punctuation">.</span>greetingLabel<span class="token punctuation">.</span>text <span class="token operator">=</span> viewModel<span class="token punctuation">.</span>greeting
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">let</span> showGreetingButton <span class="token operator">=</span> <span class="token function">UIButton</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">let</span> greetingLabel <span class="token operator">=</span> <span class="token function">UILabel</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    
    <span class="token keyword">override</span> <span class="token keyword">func</span> <span class="token function">viewDidLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">viewDidLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">self</span><span class="token punctuation">.</span>showGreetingButton<span class="token punctuation">.</span><span class="token function">addTarget</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">.</span>viewModel<span class="token punctuation">,</span> action<span class="token punctuation">:</span> <span class="token string">&quot;showGreeting&quot;</span><span class="token punctuation">,</span> forControlEvents<span class="token punctuation">:</span> <span class="token punctuation">.</span><span class="token builtin">TouchUpInside</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// layout code goes here</span>
<span class="token punctuation">}</span>
<span class="token comment">// Assembling of MVVM</span>
<span class="token keyword">let</span> model <span class="token operator">=</span> <span class="token function">Person</span><span class="token punctuation">(</span>firstName<span class="token punctuation">:</span> <span class="token string">&quot;David&quot;</span><span class="token punctuation">,</span> lastName<span class="token punctuation">:</span> <span class="token string">&quot;Blaine&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> viewModel <span class="token operator">=</span> <span class="token function">GreetingViewModel</span><span class="token punctuation">(</span>person<span class="token punctuation">:</span> model<span class="token punctuation">)</span>
<span class="token keyword">let</span> view <span class="token operator">=</span> <span class="token function">GreetingViewController</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
view<span class="token punctuation">.</span>viewModel <span class="token operator">=</span> viewModel

</code></pre></div><h2 id="viper"><a href="#viper" class="header-anchor">#</a> VIPER</h2> <p><strong>LEGO building experience transferred into the iOS app design</strong></p> <h3 id="기본-구조"><a href="#기본-구조" class="header-anchor">#</a> 기본 구조</h3> <p><a href="https://github.com/zafarivaev/VIPER-Template" target="_blank" rel="noopener noreferrer">VIPER-Template<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="역할"><a href="#역할" class="header-anchor">#</a> 역할</h3> <ul><li><p><strong>Interactor</strong> — contains business logic related to the data (<strong>Entities</strong>) or networking, like creating new instances of entities or fetching them from the server. For those purposes you’ll use some <em>Services</em> and <em>Managers</em> which are not considered as a part of VIPER module but rather an external dependency.</p></li> <li><p><strong>Presenter</strong> — contains the UI related (but UIKit <em>independent</em>) business logic, invokes methods on the <strong>Interactor</strong>.</p></li> <li><p><strong>View</strong> - 뷰의 기능만을 수행하게 만든다. 다른 모든 작업은 presenter나 interactor에게 맡긴다.</p></li> <li><p><strong>Entities</strong> — your plain data objects, not the <em>data access layer,</em> because that is a responsibility of the <strong>Interactor</strong>.</p></li> <li><p><strong>Router</strong> — responsible for the segues between the VIPER <strong>modules</strong>.</p></li></ul> <div class="language-swift extra-class"><pre class="language-swift"><code>
<span class="token keyword">import</span> <span class="token builtin">UIKit</span>

<span class="token keyword">struct</span> <span class="token builtin">Person</span> <span class="token punctuation">{</span> <span class="token comment">// Entity (usually more complex e.g. NSManagedObject)</span>
    <span class="token keyword">let</span> firstName<span class="token punctuation">:</span> <span class="token builtin">String</span>
    <span class="token keyword">let</span> lastName<span class="token punctuation">:</span> <span class="token builtin">String</span>
<span class="token punctuation">}</span>

<span class="token keyword">struct</span> <span class="token builtin">GreetingData</span> <span class="token punctuation">{</span> <span class="token comment">// Transport data structure (not Entity)</span>
    <span class="token keyword">let</span> greeting<span class="token punctuation">:</span> <span class="token builtin">String</span>
    <span class="token keyword">let</span> subject<span class="token punctuation">:</span> <span class="token builtin">String</span>
<span class="token punctuation">}</span>

<span class="token keyword">protocol</span> <span class="token builtin">GreetingProvider</span> <span class="token punctuation">{</span>
    <span class="token keyword">func</span> <span class="token function">provideGreetingData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">protocol</span> <span class="token builtin">GreetingOutput</span><span class="token punctuation">:</span> <span class="token keyword">class</span> <span class="token punctuation">{</span>
    <span class="token keyword">func</span> <span class="token function">receiveGreetingData</span><span class="token punctuation">(</span>greetingData<span class="token punctuation">:</span> <span class="token builtin">GreetingData</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">GreetingInteractor</span> <span class="token punctuation">:</span> <span class="token builtin">GreetingProvider</span> <span class="token punctuation">{</span>
    <span class="token keyword">weak</span> <span class="token keyword">var</span> output<span class="token punctuation">:</span> <span class="token builtin">GreetingOutput</span><span class="token operator">!</span>
    
    <span class="token keyword">func</span> <span class="token function">provideGreetingData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token function">Person</span><span class="token punctuation">(</span>firstName<span class="token punctuation">:</span> <span class="token string">&quot;David&quot;</span><span class="token punctuation">,</span> lastName<span class="token punctuation">:</span> <span class="token string">&quot;Blaine&quot;</span><span class="token punctuation">)</span> <span class="token comment">// usually comes from data access layer</span>
        <span class="token keyword">let</span> subject <span class="token operator">=</span> person<span class="token punctuation">.</span>firstName <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> person<span class="token punctuation">.</span>lastName
        <span class="token keyword">let</span> greeting <span class="token operator">=</span> <span class="token function">GreetingData</span><span class="token punctuation">(</span>greeting<span class="token punctuation">:</span> <span class="token string">&quot;Hello&quot;</span><span class="token punctuation">,</span> subject<span class="token punctuation">:</span> subject<span class="token punctuation">)</span>
        <span class="token keyword">self</span><span class="token punctuation">.</span>output<span class="token punctuation">.</span><span class="token function">receiveGreetingData</span><span class="token punctuation">(</span>greeting<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">protocol</span> <span class="token builtin">GreetingViewEventHandler</span> <span class="token punctuation">{</span>
    <span class="token keyword">func</span> <span class="token function">didTapShowGreetingButton</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">protocol</span> <span class="token builtin">GreetingView</span><span class="token punctuation">:</span> <span class="token keyword">class</span> <span class="token punctuation">{</span>
    <span class="token keyword">func</span> <span class="token function">setGreeting</span><span class="token punctuation">(</span>greeting<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">GreetingPresenter</span> <span class="token punctuation">:</span> <span class="token builtin">GreetingOutput</span><span class="token punctuation">,</span> <span class="token builtin">GreetingViewEventHandler</span> <span class="token punctuation">{</span>
    <span class="token keyword">weak</span> <span class="token keyword">var</span> view<span class="token punctuation">:</span> <span class="token builtin">GreetingView</span><span class="token operator">!</span>
    <span class="token keyword">var</span> greetingProvider<span class="token punctuation">:</span> <span class="token builtin">GreetingProvider</span><span class="token operator">!</span>
    
    <span class="token keyword">func</span> <span class="token function">didTapShowGreetingButton</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">self</span><span class="token punctuation">.</span>greetingProvider<span class="token punctuation">.</span><span class="token function">provideGreetingData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">func</span> <span class="token function">receiveGreetingData</span><span class="token punctuation">(</span>greetingData<span class="token punctuation">:</span> <span class="token builtin">GreetingData</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> greeting <span class="token operator">=</span> greetingData<span class="token punctuation">.</span>greeting <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> greetingData<span class="token punctuation">.</span>subject
        <span class="token keyword">self</span><span class="token punctuation">.</span>view<span class="token punctuation">.</span><span class="token function">setGreeting</span><span class="token punctuation">(</span>greeting<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">GreetingViewController</span> <span class="token punctuation">:</span> <span class="token builtin">UIViewController</span><span class="token punctuation">,</span> <span class="token builtin">GreetingView</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> eventHandler<span class="token punctuation">:</span> <span class="token builtin">GreetingViewEventHandler</span><span class="token operator">!</span>
    <span class="token keyword">let</span> showGreetingButton <span class="token operator">=</span> <span class="token function">UIButton</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">let</span> greetingLabel <span class="token operator">=</span> <span class="token function">UILabel</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">override</span> <span class="token keyword">func</span> <span class="token function">viewDidLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">viewDidLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">self</span><span class="token punctuation">.</span>showGreetingButton<span class="token punctuation">.</span><span class="token function">addTarget</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">,</span> action<span class="token punctuation">:</span> <span class="token string">&quot;didTapButton:&quot;</span><span class="token punctuation">,</span> forControlEvents<span class="token punctuation">:</span> <span class="token punctuation">.</span><span class="token builtin">TouchUpInside</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">func</span> <span class="token function">didTapButton</span><span class="token punctuation">(</span>button<span class="token punctuation">:</span> <span class="token builtin">UIButton</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">self</span><span class="token punctuation">.</span>eventHandler<span class="token punctuation">.</span><span class="token function">didTapShowGreetingButton</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">func</span> <span class="token function">setGreeting</span><span class="token punctuation">(</span>greeting<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">self</span><span class="token punctuation">.</span>greetingLabel<span class="token punctuation">.</span>text <span class="token operator">=</span> greeting
    <span class="token punctuation">}</span>
    
    <span class="token comment">// layout code goes here</span>
<span class="token punctuation">}</span>
<span class="token comment">// Assembling of VIPER module, without Router</span>
<span class="token keyword">let</span> view <span class="token operator">=</span> <span class="token function">GreetingViewController</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> presenter <span class="token operator">=</span> <span class="token function">GreetingPresenter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> interactor <span class="token operator">=</span> <span class="token function">GreetingInteractor</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
view<span class="token punctuation">.</span>eventHandler <span class="token operator">=</span> presenter
presenter<span class="token punctuation">.</span>view <span class="token operator">=</span> view
presenter<span class="token punctuation">.</span>greetingProvider <span class="token operator">=</span> interactor
interactor<span class="token punctuation">.</span>output <span class="token operator">=</span> presenter

</code></pre></div><h2 id="references"><a href="#references" class="header-anchor">#</a> References</h2> <p>More information on Markdown can be found at the following links:</p> <ul><li><a href="https://developer.apple.com/library/archive/documentation/General/Conceptual/CocoaEncyclopedia/Model-View-Controller/Model-View-Controller.html" target="_blank" rel="noopener noreferrer">Apple Model-View-Controller<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://github.com/onmyway133/awesome-ios-architecture" target="_blank" rel="noopener noreferrer">Github awesome iOS architecture<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://k7tech.agency/blog/ios-app-architecture-patterns" target="_blank" rel="noopener noreferrer">Blog K7 Tech Agency<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://medium.com/@vigneshwaran_89879/mvc-vs-mvvm-vs-mvp-vs-viper-which-design-architecture-is-suitable-for-ios-bb1f32328bd8" target="_blank" rel="noopener noreferrer">Medium Which design architecture is suitable for iOS<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://medium.com/ios-os-x-development/ios-architecture-patterns-ecba4c38de52" target="_blank" rel="noopener noreferrer">Medium iOS Architecture Patterns<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/TIL/architecture-patterns/design-pattern.html" class="prev">
        Design Patterns; Creational, Structural, Behavioral design
      </a></span> <span class="next"><a href="/TIL/network/alamofire.html">
        [HowTo] Alamofire + JSONDecoder Example Code
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/TIL/assets/js/app.93665678.js" defer></script><script src="/TIL/assets/js/2.97e129ee.js" defer></script><script src="/TIL/assets/js/10.48baec32.js" defer></script>
  </body>
</html>
