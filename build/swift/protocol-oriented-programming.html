<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Protocol Oriented Programming | Today I Learned</title>
    <meta name="generator" content="VuePress 1.8.1">
    <link rel="icon" href="/TIL/logo.png">
    <meta name="description" content="Sunggwon's Personal Wiki (Today I Learned)">
    
    <link rel="preload" href="/TIL/assets/css/0.styles.d32b1f14.css" as="style"><link rel="preload" href="/TIL/assets/js/app.a4bffe31.js" as="script"><link rel="preload" href="/TIL/assets/js/2.dd2ad777.js" as="script"><link rel="preload" href="/TIL/assets/js/44.491b7a06.js" as="script"><link rel="prefetch" href="/TIL/assets/js/10.40d7a593.js"><link rel="prefetch" href="/TIL/assets/js/11.e156635e.js"><link rel="prefetch" href="/TIL/assets/js/12.049342b1.js"><link rel="prefetch" href="/TIL/assets/js/13.66717ef7.js"><link rel="prefetch" href="/TIL/assets/js/14.97560492.js"><link rel="prefetch" href="/TIL/assets/js/15.068d262a.js"><link rel="prefetch" href="/TIL/assets/js/16.e64a7236.js"><link rel="prefetch" href="/TIL/assets/js/17.eb5f6279.js"><link rel="prefetch" href="/TIL/assets/js/18.fe5972d3.js"><link rel="prefetch" href="/TIL/assets/js/19.4bfcd30b.js"><link rel="prefetch" href="/TIL/assets/js/20.3de9d7c9.js"><link rel="prefetch" href="/TIL/assets/js/21.8c56f35e.js"><link rel="prefetch" href="/TIL/assets/js/22.52c001d2.js"><link rel="prefetch" href="/TIL/assets/js/23.3bc35282.js"><link rel="prefetch" href="/TIL/assets/js/24.f19a65f0.js"><link rel="prefetch" href="/TIL/assets/js/25.246ae185.js"><link rel="prefetch" href="/TIL/assets/js/26.57ead58c.js"><link rel="prefetch" href="/TIL/assets/js/27.8bc974a2.js"><link rel="prefetch" href="/TIL/assets/js/28.fe3bc6d0.js"><link rel="prefetch" href="/TIL/assets/js/29.703c7e63.js"><link rel="prefetch" href="/TIL/assets/js/3.c899a5fb.js"><link rel="prefetch" href="/TIL/assets/js/30.0fd87577.js"><link rel="prefetch" href="/TIL/assets/js/31.34064a3f.js"><link rel="prefetch" href="/TIL/assets/js/32.fccf33ec.js"><link rel="prefetch" href="/TIL/assets/js/33.b9607528.js"><link rel="prefetch" href="/TIL/assets/js/34.a3484013.js"><link rel="prefetch" href="/TIL/assets/js/35.9c2c7bbd.js"><link rel="prefetch" href="/TIL/assets/js/36.37b260f6.js"><link rel="prefetch" href="/TIL/assets/js/37.8ae407e5.js"><link rel="prefetch" href="/TIL/assets/js/38.a38ca657.js"><link rel="prefetch" href="/TIL/assets/js/39.11b7ecee.js"><link rel="prefetch" href="/TIL/assets/js/4.a7ee7deb.js"><link rel="prefetch" href="/TIL/assets/js/40.70aec562.js"><link rel="prefetch" href="/TIL/assets/js/41.ca82fe99.js"><link rel="prefetch" href="/TIL/assets/js/42.121333e6.js"><link rel="prefetch" href="/TIL/assets/js/43.c326f5b3.js"><link rel="prefetch" href="/TIL/assets/js/45.9cd1ca26.js"><link rel="prefetch" href="/TIL/assets/js/46.7c4ce90b.js"><link rel="prefetch" href="/TIL/assets/js/47.d1fdc12e.js"><link rel="prefetch" href="/TIL/assets/js/48.a10f307a.js"><link rel="prefetch" href="/TIL/assets/js/49.666f825c.js"><link rel="prefetch" href="/TIL/assets/js/5.9bddd151.js"><link rel="prefetch" href="/TIL/assets/js/50.c0e01ec8.js"><link rel="prefetch" href="/TIL/assets/js/51.af2bfc72.js"><link rel="prefetch" href="/TIL/assets/js/52.2936f9e8.js"><link rel="prefetch" href="/TIL/assets/js/53.8b4570b1.js"><link rel="prefetch" href="/TIL/assets/js/54.30c7d7e2.js"><link rel="prefetch" href="/TIL/assets/js/55.40a6b63c.js"><link rel="prefetch" href="/TIL/assets/js/56.ae92a92b.js"><link rel="prefetch" href="/TIL/assets/js/57.8e32c547.js"><link rel="prefetch" href="/TIL/assets/js/58.f2f0eeec.js"><link rel="prefetch" href="/TIL/assets/js/59.4af358c6.js"><link rel="prefetch" href="/TIL/assets/js/6.56ab2579.js"><link rel="prefetch" href="/TIL/assets/js/60.3be71c19.js"><link rel="prefetch" href="/TIL/assets/js/61.b55947de.js"><link rel="prefetch" href="/TIL/assets/js/62.bd9a6e72.js"><link rel="prefetch" href="/TIL/assets/js/63.8226eeec.js"><link rel="prefetch" href="/TIL/assets/js/64.808110cd.js"><link rel="prefetch" href="/TIL/assets/js/65.a044b2d9.js"><link rel="prefetch" href="/TIL/assets/js/66.488c38fe.js"><link rel="prefetch" href="/TIL/assets/js/7.2487e5f8.js"><link rel="prefetch" href="/TIL/assets/js/8.96704580.js"><link rel="prefetch" href="/TIL/assets/js/9.e25457eb.js">
    <link rel="stylesheet" href="/TIL/assets/css/0.styles.d32b1f14.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/TIL/" class="home-link router-link-active"><!----> <span class="site-name">Today I Learned</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/cielgrisdemoscou/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://sunggweon.dev" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/cielgrisdemoscou/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://sunggweon.dev" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Swift / iOS</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/TIL/swift/application-life-cycle.html" class="sidebar-link">Application Life Cycle</a></li><li><a href="/TIL/swift/protocol-oriented-programming.html" aria-current="page" class="active sidebar-link">Protocol Oriented Programming</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/TIL/swift/protocol-oriented-programming.html#why-protocol-oriented-programming" class="sidebar-link">Why Protocol-Oriented Programming?</a></li><li class="sidebar-sub-header"><a href="/TIL/swift/protocol-oriented-programming.html#what-is-protocol-oriented-programming" class="sidebar-link">What Is Protocol-Oriented Programming?</a></li><li class="sidebar-sub-header"><a href="/TIL/swift/protocol-oriented-programming.html#start-with-a-protocol" class="sidebar-link">Start with a Protocol</a></li><li class="sidebar-sub-header"><a href="/TIL/swift/protocol-oriented-programming.html#extending-protocols-with-default-implementations" class="sidebar-link">Extending Protocols With Default Implementations</a></li><li class="sidebar-sub-header"><a href="/TIL/swift/protocol-oriented-programming.html#protocol-inheritance" class="sidebar-link">Protocol Inheritance</a></li><li class="sidebar-sub-header"><a href="/TIL/swift/protocol-oriented-programming.html#protocol-composition" class="sidebar-link">Protocol Composition</a></li><li class="sidebar-sub-header"><a href="/TIL/swift/protocol-oriented-programming.html#are-there-any-more-advantages-to-protocols" class="sidebar-link">Are There Any More Advantages To Protocols?</a></li><li class="sidebar-sub-header"><a href="/TIL/swift/protocol-oriented-programming.html#conclusion" class="sidebar-link">Conclusion</a></li><li class="sidebar-sub-header"><a href="/TIL/swift/protocol-oriented-programming.html#references" class="sidebar-link">References</a></li></ul></li><li><a href="/TIL/swift/bounds-frame.html" class="sidebar-link">Frame &amp; Bounds</a></li><li><a href="/TIL/swift/delegate.html" class="sidebar-link">Extended Meaning of the Delegate Pattern</a></li><li><a href="/TIL/swift/custom-swiftlint.html" class="sidebar-link">Custom Swift Development Setting</a></li><li><a href="/TIL/swift/weak-delegate.html" class="sidebar-link">[Swift] Weak Must Not be Applied to Non-class-bound</a></li><li><a href="/TIL/swift/escaping.html" class="sidebar-link">[Swift] @escaping closure</a></li><li><a href="/TIL/swift/custom-string-convertible.html" class="sidebar-link">[Swift] Custom String Convertible</a></li><li><a href="/TIL/swift/prepare-for-reuse.html" class="sidebar-link">[Swift] prepareForReuse()</a></li><li><a href="/TIL/swift/mutating.html" class="sidebar-link">[Swift] Mutating</a></li><li><a href="/TIL/swift/dateformatter.html" class="sidebar-link">[Swift] DateFormatter</a></li><li><a href="/TIL/swift/lazy_var.html" class="sidebar-link">[Swift] Lazy Var vs Let when creating views programmatically</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Views and View Controllers</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Graphics &amp; Animation</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Core Concepts</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Architecture Patterns</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Networking</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>RxSwift</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Map &amp; Location APIs</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>UI &amp; UX</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>CoreML &amp; ARKit</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Unit Test</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Data</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Git</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Université Paris 8</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Useful Articles</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="protocol-oriented-programming"><a href="#protocol-oriented-programming" class="header-anchor">#</a> Protocol Oriented Programming</h1> <p>Protocol-oriented programming has been making strides in the Swift community in recent years. It is more of an extension rather replacement of the object-oriented paradigm – a prelude to evolution rather than a revolution. But it still provides tons of benefits for both developers and organizations. Find out all about them in this example-rich introduction to protocol-oriented programming with Swift.</p> <h2 id="why-protocol-oriented-programming"><a href="#why-protocol-oriented-programming" class="header-anchor">#</a> Why Protocol-Oriented Programming?</h2> <p>Protocols allow you to group similar methods, functions and properties. Swift lets you specify these interface guarantees on <code>class</code>, <code>struct</code> and <code>enum</code> types. Only <code>class</code> types can use base classes and inheritance.</p> <p>An advantage of <a href="https://docs.swift.org/swift-book/LanguageGuide/Protocols.html" target="_blank" rel="noopener noreferrer">protocols<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> in Swift is that objects can conform to multiple protocols.</p> <p>When writing an app this way, your code becomes more modular. Think of protocols as building blocks of functionality. When you add new functionality by conforming an object to a protocol, you don’t build a whole new object. That’s time-consuming. Instead, you add different building blocks until your object is ready.</p> <h2 id="what-is-protocol-oriented-programming"><a href="#what-is-protocol-oriented-programming" class="header-anchor">#</a> What Is Protocol-Oriented Programming?</h2> <p>Protocol-Oriented Programming is a new programming paradigm ushered in by Swift 2.0. In the Protocol-Oriented approach, we start designing our system by defining protocols. We rely on new concepts: <code>protocol extensions</code>, <code>protocol inheritance</code>, and <code>protocol compositions</code>. The paradigm also changes how we view semantics. In Swift, value types are preferred over <code>classes</code>. However, object-oriented concepts don’t work well with <code>structs</code> and <code>enums</code>: a <code>struct</code> cannot inherit from another <code>struct</code>, neither can an <code>enum</code> inherit from another <code>enum</code>. So inheritancefa - one of the fundamental object-oriented concepts - cannot be applied to value types. On the other hand, value types can inherit from protocols, even multiple protocols. Thus, with POP, value types have become frst class citizens in Swift.</p> <h2 id="start-with-a-protocol"><a href="#start-with-a-protocol" class="header-anchor">#</a> Start with a Protocol</h2> <blockquote><p>“Don’t start with a class, start with a protocol.”</p></blockquote> <p>If you model an abstraction using classes, you’ll need to rely on inheritance. The superclass defines the core functionality and exposes it to subclasses. A subclass can completely override that behavior, add specific behavior, or get all the work done by the superclass. This works nicely until you realize that you need more functionality from a different class. Swift, just like many other programming languages, does not support multiple inheritance. Following the class-first approach, you’d have to keep adding new functionality to your superclass or otherwise create new intermediary classes, thereby complicating the issue. Protocols, on the other hand, serve as blueprints rather than parents. A protocol models abstraction by describing what the impleentation types shall implement.</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">protocol</span> <span class="token builtin">Entity</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> name<span class="token punctuation">:</span> <span class="token builtin">String</span> <span class="token punctuation">{</span><span class="token keyword">get</span> <span class="token keyword">set</span><span class="token punctuation">}</span>
    <span class="token keyword">static</span> <span class="token keyword">func</span> <span class="token function">uid</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">String</span>
<span class="token punctuation">}</span>
</code></pre></div><p>What it tells us is that adopters of this protocol will be able to create an entity, assign it a name and generate its unique identifier by implementing the type method uid().</p> <p>One type can model multiple abstractions, since any type - including value types - can implement multiple protocols. This is a huge benefit over class inheritance. You can separate the concerns by creating as many protocols and protocol extensions as needed. Say good-bye to monolithic superclasses! The only caveat is that protocols define a template abstractly -- with no implementation. Here’s where protocol extensions come to the rescue.</p> <h2 id="extending-protocols-with-default-implementations"><a href="#extending-protocols-with-default-implementations" class="header-anchor">#</a> Extending Protocols With Default Implementations</h2> <p>Protocols serve as blueprints: they tell us what adopters shall implement, but you can’t provide implementation within a protocol. What if we need to define default behavior for conforming types? Protocol extensions are the way to go! In Swift, you can extend a protocol and provide default implementation for methods, computed properties, subscripts and convenience initializers.</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">struct</span> <span class="token builtin">Order</span><span class="token punctuation">:</span> <span class="token builtin">Entity</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> name<span class="token punctuation">:</span> <span class="token builtin">String</span>
    <span class="token keyword">let</span> uid<span class="token punctuation">:</span> <span class="token builtin">String</span> <span class="token operator">=</span> <span class="token builtin">Order</span><span class="token punctuation">.</span><span class="token function">uid</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> order <span class="token operator">=</span> <span class="token function">Order</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">&quot;My Order&quot;</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>order<span class="token punctuation">.</span>uid<span class="token punctuation">)</span>
<span class="token comment">// 4812B485-3965-443B-A76D-72986B0A4FF4</span>
</code></pre></div><h2 id="protocol-inheritance"><a href="#protocol-inheritance" class="header-anchor">#</a> Protocol Inheritance</h2> <p>A protocol can inherit from other protocols and then add further requirements on top of the requirements it inherits. In the following example, the protocol Persistable inherits from the Entity protocol I introduced earlier. It adds the requirement to save an entity to file and load it based on its unique identifier.</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">protocol</span> <span class="token builtin">Persistable</span><span class="token punctuation">:</span> <span class="token builtin">Entity</span> <span class="token punctuation">{</span>
    <span class="token keyword">func</span> <span class="token function">write</span><span class="token punctuation">(</span>instance<span class="token punctuation">:</span> <span class="token builtin">Entity</span><span class="token punctuation">,</span> to filePath<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span>
    <span class="token keyword">init</span><span class="token operator">?</span><span class="token punctuation">(</span>by uid<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>The types that adopt the Persistable protocol must satisfy the requirements defined in both the Entity and the Persistable protocol.Protocol inheritance is a powerful feature which allows for more granular and flexible designs.</p> <h2 id="protocol-composition"><a href="#protocol-composition" class="header-anchor">#</a> Protocol Composition</h2> <p>Swift does not allow multiple inheritance for classes. However, Swift types can adopt multiple protocols. Sometimes you may find this feature useful.</p> <p>Here’s an example: let’s assume that we need a type which represents an Entity.</p> <p>We also need to compare instances of given type. And we want to provide a custom description, too.</p> <p>We have three protocols which define the mentioned requirements:</p> <ul><li>Entity</li> <li>Equatable</li> <li>CustomStringConvertible</li></ul> <p>If these were base classes, we’d have to merge the functionality into one superclass; however, with POP and protocol composition, the solution becomes:</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">struct</span> <span class="token builtin">MyEntity</span><span class="token punctuation">:</span> <span class="token builtin">Entity</span><span class="token punctuation">,</span> <span class="token builtin">Equatable</span><span class="token punctuation">,</span> <span class="token builtin">CustomStringConvertible</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> name<span class="token punctuation">:</span> <span class="token builtin">String</span>
    <span class="token comment">// Equatable</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">func</span> <span class="token operator">==</span><span class="token punctuation">(</span>lhs<span class="token punctuation">:</span> <span class="token builtin">MyEntity</span><span class="token punctuation">,</span> rhs<span class="token punctuation">:</span> <span class="token builtin">MyEntity</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">Bool</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> lhs<span class="token punctuation">.</span>name <span class="token operator">==</span> rhs<span class="token punctuation">.</span>name
    <span class="token punctuation">}</span>
    <span class="token comment">// CustomStringConvertible</span>
    <span class="token keyword">public</span> <span class="token keyword">var</span> description<span class="token punctuation">:</span> <span class="token builtin">String</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;MyEntity: <span class="token interpolation"><span class="token delimiter variable">\(</span>name<span class="token delimiter variable">)</span></span>&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> entity1 <span class="token operator">=</span> <span class="token function">MyEntity</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">&quot;42&quot;</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>entity1<span class="token punctuation">)</span>
<span class="token keyword">let</span> entity2 <span class="token operator">=</span> <span class="token function">MyEntity</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">&quot;42&quot;</span><span class="token punctuation">)</span>
<span class="token function">assert</span><span class="token punctuation">(</span>entity1 <span class="token operator">==</span> entity2<span class="token punctuation">,</span> <span class="token string">&quot;Entities shall be equal&quot;</span><span class="token punctuation">)</span>
</code></pre></div><p>This design not only is more flexible than squeezing all the required functionality into a monolithic base class but also works for value types.</p> <h2 id="are-there-any-more-advantages-to-protocols"><a href="#are-there-any-more-advantages-to-protocols" class="header-anchor">#</a> Are There Any More Advantages To Protocols?</h2> <p>Protocols are not all about information hiding. Our second example shows how protocols (together with generics) can make your programs more flexible, as well as reduce the amount of code you need to write.</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">class</span> <span class="token class-name">Arithmetic</span> <span class="token punctuation">{</span>
    <span class="token keyword">static</span> <span class="token keyword">func</span> <span class="token function">add</span><span class="token punctuation">(</span>a<span class="token punctuation">:</span> <span class="token builtin">Int</span><span class="token punctuation">,</span> b<span class="token punctuation">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">Int</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> a <span class="token operator">+</span> b
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>What you see is a method performing a simple addition and returning the result, and it’s not doing anything wrong per se.</p> <p>However, when we look closer we realize that we’re going to need to write a lot of these to cover all the different types of numbers that you may want to add together. Floats will need a method, Doubles will need one, etc. We want to implement a single function that accepts several different types and provides a correct answer, but we also want to specify some constraints on what those types can be (it wouldn’t, for example, make sense to try to add two Strings in this situation).</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">class</span> <span class="token class-name">Arithmetic</span> <span class="token punctuation">{</span>
    <span class="token keyword">static</span> <span class="token keyword">func</span> add<span class="token operator">&lt;</span><span class="token keyword">Type</span><span class="token punctuation">:</span> <span class="token builtin">Numeric</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>a<span class="token punctuation">:</span> <span class="token keyword">Type</span><span class="token punctuation">,</span> b<span class="token punctuation">:</span> <span class="token keyword">Type</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token keyword">Type</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> a <span class="token operator">+</span> b
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>We now have a function that’s using a protocol as a generic constraint. This allows us to handle any number of types with the same method, the condition being that the type must implement the <code>Numeric</code> protocol and thereby allow us to perform arithmetic operations on it.</p> <h2 id="conclusion"><a href="#conclusion" class="header-anchor">#</a> Conclusion</h2> <p>If you’re coming from a more traditional object-oriented system where inheritance is more common, try to think as your first protocol as being a base class. You can then create new protocols by inheriting from that initial protocol, and write extensions so they have default implementations.</p> <p>However, a better approach is to write lots of small protocols that each do specific, individual things: one to make products purchasable, one to make them serializable, one to make them searchable, and so on. You can then add default implementations to those extensions, which means you can add functionality to existing types just by making them conform to your protocol.</p> <p>In this respect protocol-oriented programming is sort of a similar approach to multiple inheritance from languages such as C++. However, because protocol extensions can’t include state you don’t get any of the cruft, and Swift’s constraint-based conflict resolution is easy enough for everyone to understand.
<br></p> <h2 id="references"><a href="#references" class="header-anchor">#</a> References</h2> <p>More information on Markdown can be found at the following links:</p> <ul><li><a href="https://www.raywenderlich.com/6742901-protocol-oriented-programming-tutorial-in-swift-5-1-getting-started" target="_blank" rel="noopener noreferrer">Raywenderlich Protocol-Oriented-Programming Tutorial<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://docs.swift.org/swift-book/LanguageGuide/Protocols.html" target="_blank" rel="noopener noreferrer">Apple The swift programming language Protocols<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://medium.com/swlh/introduction-to-protocol-oriented-programming-1ff3862f9a3c" target="_blank" rel="noopener noreferrer">Medium Introduction to protocol oriented programming<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://developer.apple.com/videos/play/wwdc2015/408/" target="_blank" rel="noopener noreferrer">Apple Protocol-Oriented Programming in Swift<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.hackingwithswift.com/example-code/language/what-is-protocol-oriented-programming" target="_blank" rel="noopener noreferrer">Hacking with swift What is protocol-oriented programming?<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://medium.com/ios-os-x-development/how-protocol-oriented-programming-in-swift-saved-my-day-75737a6af022" target="_blank" rel="noopener noreferrer">Medium How Protocol Oriented Programming saved my day?<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.pluralsight.com/guides/protocol-oriented-programming-in-swift" target="_blank" rel="noopener noreferrer">Blog Protocol Oriented Programming in Swift<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/TIL/swift/application-life-cycle.html" class="prev">
        Application Life Cycle
      </a></span> <span class="next"><a href="/TIL/swift/bounds-frame.html">
        Frame &amp; Bounds
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/TIL/assets/js/app.a4bffe31.js" defer></script><script src="/TIL/assets/js/2.dd2ad777.js" defer></script><script src="/TIL/assets/js/44.491b7a06.js" defer></script>
  </body>
</html>
