<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>[HowTo] Advanced UIVIew Shadow Effects | Today I Learned</title>
    <meta name="generator" content="VuePress 1.8.1">
    <link rel="icon" href="/TIL/logo.png">
    <meta name="description" content="Sunggwon's Personal Wiki (Today I Learned)">
    
    <link rel="preload" href="/TIL/assets/css/0.styles.d32b1f14.css" as="style"><link rel="preload" href="/TIL/assets/js/app.980bea45.js" as="script"><link rel="preload" href="/TIL/assets/js/2.25c8762d.js" as="script"><link rel="preload" href="/TIL/assets/js/40.5e974a0a.js" as="script"><link rel="prefetch" href="/TIL/assets/js/10.ef2ab4e4.js"><link rel="prefetch" href="/TIL/assets/js/100.d96be6b2.js"><link rel="prefetch" href="/TIL/assets/js/101.f2e5fb7a.js"><link rel="prefetch" href="/TIL/assets/js/11.b27a3ed5.js"><link rel="prefetch" href="/TIL/assets/js/12.2026c459.js"><link rel="prefetch" href="/TIL/assets/js/13.41f2a219.js"><link rel="prefetch" href="/TIL/assets/js/14.c1ea8585.js"><link rel="prefetch" href="/TIL/assets/js/15.cba67934.js"><link rel="prefetch" href="/TIL/assets/js/16.46d7d51f.js"><link rel="prefetch" href="/TIL/assets/js/17.398a500e.js"><link rel="prefetch" href="/TIL/assets/js/18.2c386581.js"><link rel="prefetch" href="/TIL/assets/js/19.c1180614.js"><link rel="prefetch" href="/TIL/assets/js/20.d854596c.js"><link rel="prefetch" href="/TIL/assets/js/21.cb4e03c4.js"><link rel="prefetch" href="/TIL/assets/js/22.87d1e62d.js"><link rel="prefetch" href="/TIL/assets/js/23.66924858.js"><link rel="prefetch" href="/TIL/assets/js/24.55dbc786.js"><link rel="prefetch" href="/TIL/assets/js/25.ec02ab99.js"><link rel="prefetch" href="/TIL/assets/js/26.bf79e575.js"><link rel="prefetch" href="/TIL/assets/js/27.5c520588.js"><link rel="prefetch" href="/TIL/assets/js/28.e14934dc.js"><link rel="prefetch" href="/TIL/assets/js/29.e5898a2b.js"><link rel="prefetch" href="/TIL/assets/js/3.cec55781.js"><link rel="prefetch" href="/TIL/assets/js/30.f79e0463.js"><link rel="prefetch" href="/TIL/assets/js/31.f6fffc0e.js"><link rel="prefetch" href="/TIL/assets/js/32.88bf19c0.js"><link rel="prefetch" href="/TIL/assets/js/33.0dd960ad.js"><link rel="prefetch" href="/TIL/assets/js/34.209a57c0.js"><link rel="prefetch" href="/TIL/assets/js/35.5e5e47f4.js"><link rel="prefetch" href="/TIL/assets/js/36.44f81a23.js"><link rel="prefetch" href="/TIL/assets/js/37.4ad4a894.js"><link rel="prefetch" href="/TIL/assets/js/38.7bc6c768.js"><link rel="prefetch" href="/TIL/assets/js/39.29a02843.js"><link rel="prefetch" href="/TIL/assets/js/4.247edbdc.js"><link rel="prefetch" href="/TIL/assets/js/41.3b4e4e0b.js"><link rel="prefetch" href="/TIL/assets/js/42.78e08e6e.js"><link rel="prefetch" href="/TIL/assets/js/43.bff87c28.js"><link rel="prefetch" href="/TIL/assets/js/44.1e42ef2d.js"><link rel="prefetch" href="/TIL/assets/js/45.031dc0b5.js"><link rel="prefetch" href="/TIL/assets/js/46.33b110e3.js"><link rel="prefetch" href="/TIL/assets/js/47.05cae770.js"><link rel="prefetch" href="/TIL/assets/js/48.79bfcf19.js"><link rel="prefetch" href="/TIL/assets/js/49.bfcc8c07.js"><link rel="prefetch" href="/TIL/assets/js/5.df6cee7b.js"><link rel="prefetch" href="/TIL/assets/js/50.fdddeb64.js"><link rel="prefetch" href="/TIL/assets/js/51.0e3a99b0.js"><link rel="prefetch" href="/TIL/assets/js/52.165ce900.js"><link rel="prefetch" href="/TIL/assets/js/53.1a9d788a.js"><link rel="prefetch" href="/TIL/assets/js/54.7bb2d0ae.js"><link rel="prefetch" href="/TIL/assets/js/55.e39e5298.js"><link rel="prefetch" href="/TIL/assets/js/56.69a6a35d.js"><link rel="prefetch" href="/TIL/assets/js/57.21cdba18.js"><link rel="prefetch" href="/TIL/assets/js/58.f359850d.js"><link rel="prefetch" href="/TIL/assets/js/59.ec4b14d7.js"><link rel="prefetch" href="/TIL/assets/js/6.daa0ede0.js"><link rel="prefetch" href="/TIL/assets/js/60.5f5871eb.js"><link rel="prefetch" href="/TIL/assets/js/61.3e3b66dd.js"><link rel="prefetch" href="/TIL/assets/js/62.74e1aac6.js"><link rel="prefetch" href="/TIL/assets/js/63.a12e056a.js"><link rel="prefetch" href="/TIL/assets/js/64.a9d5916b.js"><link rel="prefetch" href="/TIL/assets/js/65.e75cd0c9.js"><link rel="prefetch" href="/TIL/assets/js/66.7b18b3bc.js"><link rel="prefetch" href="/TIL/assets/js/67.82e6022c.js"><link rel="prefetch" href="/TIL/assets/js/68.a49d1bdd.js"><link rel="prefetch" href="/TIL/assets/js/69.0446de8f.js"><link rel="prefetch" href="/TIL/assets/js/7.dc70adec.js"><link rel="prefetch" href="/TIL/assets/js/70.37c50022.js"><link rel="prefetch" href="/TIL/assets/js/71.fa39f5c4.js"><link rel="prefetch" href="/TIL/assets/js/72.a6344dea.js"><link rel="prefetch" href="/TIL/assets/js/73.22457025.js"><link rel="prefetch" href="/TIL/assets/js/74.300eee6c.js"><link rel="prefetch" href="/TIL/assets/js/75.60e8277d.js"><link rel="prefetch" href="/TIL/assets/js/76.0430dcee.js"><link rel="prefetch" href="/TIL/assets/js/77.3ed4c518.js"><link rel="prefetch" href="/TIL/assets/js/78.be3575d6.js"><link rel="prefetch" href="/TIL/assets/js/79.63cd21bb.js"><link rel="prefetch" href="/TIL/assets/js/8.c5c73bc8.js"><link rel="prefetch" href="/TIL/assets/js/80.2fe92715.js"><link rel="prefetch" href="/TIL/assets/js/81.5dfccf2f.js"><link rel="prefetch" href="/TIL/assets/js/82.6a278eb0.js"><link rel="prefetch" href="/TIL/assets/js/83.487440d2.js"><link rel="prefetch" href="/TIL/assets/js/84.68df1574.js"><link rel="prefetch" href="/TIL/assets/js/85.9ce619a4.js"><link rel="prefetch" href="/TIL/assets/js/86.e3b5aad2.js"><link rel="prefetch" href="/TIL/assets/js/87.f989cf55.js"><link rel="prefetch" href="/TIL/assets/js/88.5fe7a247.js"><link rel="prefetch" href="/TIL/assets/js/89.5abb2d2a.js"><link rel="prefetch" href="/TIL/assets/js/9.a2e7de2a.js"><link rel="prefetch" href="/TIL/assets/js/90.84848f6e.js"><link rel="prefetch" href="/TIL/assets/js/91.2cb5d3d5.js"><link rel="prefetch" href="/TIL/assets/js/92.ef19ff32.js"><link rel="prefetch" href="/TIL/assets/js/93.2a706510.js"><link rel="prefetch" href="/TIL/assets/js/94.50e56e38.js"><link rel="prefetch" href="/TIL/assets/js/95.ea76eedc.js"><link rel="prefetch" href="/TIL/assets/js/96.01ddd2a2.js"><link rel="prefetch" href="/TIL/assets/js/97.75b0398c.js"><link rel="prefetch" href="/TIL/assets/js/98.e37a5596.js"><link rel="prefetch" href="/TIL/assets/js/99.ad71376b.js">
    <link rel="stylesheet" href="/TIL/assets/css/0.styles.d32b1f14.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/TIL/" class="home-link router-link-active"><!----> <span class="site-name">Today I Learned</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/iosdevted/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://sunggweon.dev" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/iosdevted/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://sunggweon.dev" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Swift / iOS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>iOS Development</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Graphics &amp; Animation</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/TIL/graphics-animation/uiview-shadow.html" aria-current="page" class="active sidebar-link">[HowTo] Advanced UIVIew Shadow Effects</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/TIL/graphics-animation/uiview-shadow.html#default-shadows" class="sidebar-link">Default shadows</a></li><li class="sidebar-sub-header"><a href="/TIL/graphics-animation/uiview-shadow.html#contact-shadows" class="sidebar-link">Contact shadows</a></li><li class="sidebar-sub-header"><a href="/TIL/graphics-animation/uiview-shadow.html#depth-shadows" class="sidebar-link">Depth shadows</a></li><li class="sidebar-sub-header"><a href="/TIL/graphics-animation/uiview-shadow.html#flat-long-shadows" class="sidebar-link">Flat, long shadows</a></li><li class="sidebar-sub-header"><a href="/TIL/graphics-animation/uiview-shadow.html#extensions" class="sidebar-link">Extensions</a></li><li class="sidebar-sub-header"><a href="/TIL/graphics-animation/uiview-shadow.html#references" class="sidebar-link">References</a></li></ul></li><li><a href="/TIL/graphics-animation/avfoundation.html" class="sidebar-link">[HowTo] Video as Background with AVFoundation</a></li><li><a href="/TIL/graphics-animation/fadein.html" class="sidebar-link">[HowTo] UICollectionView Fade In &amp; Out Animation</a></li><li><a href="/TIL/graphics-animation/uiview-transition.html" class="sidebar-link">[HowTo] UIView Transition Animation</a></li><li><a href="/TIL/graphics-animation/lottie.html" class="sidebar-link">[HowTo] Lottie Animations Example Code</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Core Concepts</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Architecture Patterns</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Networking</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>SQL &amp; Data</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>RxSwift</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Unit Test</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>UI &amp; UX</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Map &amp; Location APIs</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Git</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Common Lisp</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Université Paris 8</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Useful Articles</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="howto-advanced-uiview-shadow-effects"><a href="#howto-advanced-uiview-shadow-effects" class="header-anchor">#</a> [HowTo] Advanced UIVIew Shadow Effects</h1> <p>All subclasses of UIView, plus UIView itself, have access to a layer property where we can apply shadow effects directly in code. There are lots of parameters we can tweak:</p> <ul><li><strong>shadowColor</strong>:  controls the color of the shadow, and can be used to make shadows (dark colors) or glows (light colors). This defaults to black.</li> <li><strong>shadowOffset</strong>: controls how far the shadow is moved away from its view. This defaults to 3 points up from the view. <strong>You can think of where the lights are shining.</strong></li> <li><strong>shadowOpacity</strong>: controls how transparent the shadow is. This defaults to 0, meaning “invisible”.</li> <li><strong>shadowPath</strong>: controls the shape of the shadow. This defaults to nil, which causes UIKit to render the view offscreen to figure out the shadow shape.</li> <li><strong>shadowRadius</strong>: controls how blurred the shadow is. This defaults to 3 points.</li></ul> <p>Making UIKit calculate the shadow path dynamically is significantly slower than explicitly setting the value, so if you use shadows it’s usually a good idea to set the path. Even better, you can create interesting shapes with the path to make different kinds of shadows.</p> <h2 id="default-shadows"><a href="#default-shadows" class="header-anchor">#</a> Default shadows</h2> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">let</span> width<span class="token punctuation">:</span> <span class="token builtin">CGFloat</span> <span class="token operator">=</span> <span class="token number">200</span>
<span class="token keyword">let</span> height<span class="token punctuation">:</span> <span class="token builtin">CGFloat</span> <span class="token operator">=</span> <span class="token number">200</span>

<span class="token comment">// Better to set the frame value at the beginning.</span>
<span class="token keyword">let</span> vw <span class="token operator">=</span> <span class="token function">UIView</span><span class="token punctuation">(</span>frame<span class="token punctuation">:</span> <span class="token function">CGRect</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> width<span class="token punctuation">:</span> width<span class="token punctuation">,</span> height<span class="token punctuation">:</span> height<span class="token punctuation">)</span><span class="token punctuation">)</span>
vw<span class="token punctuation">.</span>center <span class="token operator">=</span> view<span class="token punctuation">.</span>center
vw<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token punctuation">.</span>white

view<span class="token punctuation">.</span><span class="token function">addSubview</span><span class="token punctuation">(</span>vw<span class="token punctuation">)</span>
</code></pre></div><div class="language-swift extra-class"><pre class="language-swift"><code>vw<span class="token punctuation">.</span>layer<span class="token punctuation">.</span>shadowOpacity <span class="token operator">=</span> <span class="token number">1</span>
</code></pre></div><div><img src="https://user-images.githubusercontent.com/50784573/112991361-fe786f80-91a1-11eb-9f45-3281f2c9d64f.png"></div> <div class="language-swift extra-class"><pre class="language-swift"><code>vw<span class="token punctuation">.</span>layer<span class="token punctuation">.</span>shadowPath <span class="token operator">=</span> <span class="token function">UIBezierPath</span><span class="token punctuation">(</span>rect<span class="token punctuation">:</span> vw<span class="token punctuation">.</span>bounds<span class="token punctuation">)</span><span class="token punctuation">.</span>cgPath
vw<span class="token punctuation">.</span>layer<span class="token punctuation">.</span>shadowRadius <span class="token operator">=</span> <span class="token number">5</span>
vw<span class="token punctuation">.</span>layer<span class="token punctuation">.</span>shadowOffset <span class="token operator">=</span> <span class="token punctuation">.</span>zero
vw<span class="token punctuation">.</span>layer<span class="token punctuation">.</span>shadowOpacity <span class="token operator">=</span> <span class="token number">1</span>
</code></pre></div><div><img src="https://user-images.githubusercontent.com/50784573/112991367-00423300-91a2-11eb-9574-1c647e8bad2e.png"></div> <h2 id="contact-shadows"><a href="#contact-shadows" class="header-anchor">#</a> Contact shadows</h2> <p>A contact shadow is one that makes it look like our view is near to or even touching a surface, so the shadow exists directly below the view rather than around it.</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">let</span> shadowSize<span class="token punctuation">:</span> <span class="token builtin">CGFloat</span> <span class="token operator">=</span> <span class="token number">20</span>
<span class="token keyword">let</span> contactRect <span class="token operator">=</span> <span class="token function">CGRect</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token operator">-</span>shadowSize<span class="token punctuation">,</span> y<span class="token punctuation">:</span> height <span class="token operator">-</span> <span class="token punctuation">(</span>shadowSize <span class="token operator">*</span> <span class="token number">0.4</span><span class="token punctuation">)</span><span class="token punctuation">,</span> width<span class="token punctuation">:</span> width <span class="token operator">+</span> shadowSize <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> shadowSize<span class="token punctuation">)</span>
vw<span class="token punctuation">.</span>layer<span class="token punctuation">.</span>shadowPath <span class="token operator">=</span> <span class="token function">UIBezierPath</span><span class="token punctuation">(</span>ovalIn<span class="token punctuation">:</span> contactRect<span class="token punctuation">)</span><span class="token punctuation">.</span>cgPath
vw<span class="token punctuation">.</span>layer<span class="token punctuation">.</span>shadowRadius <span class="token operator">=</span> <span class="token number">5</span>
vw<span class="token punctuation">.</span>layer<span class="token punctuation">.</span>shadowOpacity <span class="token operator">=</span> <span class="token number">0.4</span>
</code></pre></div><div><img src="https://user-images.githubusercontent.com/50784573/112991368-00dac980-91a2-11eb-9868-e18151517ed4.png"></div> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">let</span> shadowSize<span class="token punctuation">:</span> <span class="token builtin">CGFloat</span> <span class="token operator">=</span> <span class="token number">20</span>
<span class="token keyword">let</span> shadowDistance<span class="token punctuation">:</span> <span class="token builtin">CGFloat</span> <span class="token operator">=</span> <span class="token number">20</span>
<span class="token keyword">let</span> contactRect <span class="token operator">=</span> <span class="token function">CGRect</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token operator">-</span>shadowSize<span class="token punctuation">,</span> y<span class="token punctuation">:</span> height <span class="token operator">-</span> <span class="token punctuation">(</span>shadowSize <span class="token operator">*</span> <span class="token number">0.4</span><span class="token punctuation">)</span> <span class="token operator">+</span> shadowDistance<span class="token punctuation">,</span> width<span class="token punctuation">:</span> width <span class="token operator">+</span> shadowSize <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> shadowSize<span class="token punctuation">)</span>
vw<span class="token punctuation">.</span>layer<span class="token punctuation">.</span>shadowPath <span class="token operator">=</span> <span class="token function">UIBezierPath</span><span class="token punctuation">(</span>ovalIn<span class="token punctuation">:</span> contactRect<span class="token punctuation">)</span><span class="token punctuation">.</span>cgPath
vw<span class="token punctuation">.</span>layer<span class="token punctuation">.</span>shadowRadius <span class="token operator">=</span> <span class="token number">5</span>
vw<span class="token punctuation">.</span>layer<span class="token punctuation">.</span>shadowOpacity <span class="token operator">=</span> <span class="token number">0.4</span>
</code></pre></div><div><img src="https://user-images.githubusercontent.com/50784573/112991373-01736000-91a2-11eb-90aa-7d4e83bbcd66.png"></div> <h2 id="depth-shadows"><a href="#depth-shadows" class="header-anchor">#</a> Depth shadows</h2> <p>You can add a 3D effect to your view by casting a shadow in front of it. This is done by creating another custom UIBezierPath shadow path where we position the top of the shadow at the bottom of our view, and the bottom of the shadow some distance further down. We then bring the bottom edges of the shadow outwards so that it’s wider on the bottom than it is at the top, giving a perspective effect.</p> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">let</span> shadowRadius<span class="token punctuation">:</span> <span class="token builtin">CGFloat</span> <span class="token operator">=</span> <span class="token number">5</span>

<span class="token comment">// how wide and high the shadow should be, where 1.0 is identical to the view</span>
<span class="token keyword">let</span> shadowWidth<span class="token punctuation">:</span> <span class="token builtin">CGFloat</span> <span class="token operator">=</span> <span class="token number">1.25</span>
<span class="token keyword">let</span> shadowHeight<span class="token punctuation">:</span> <span class="token builtin">CGFloat</span> <span class="token operator">=</span> <span class="token number">0.5</span>

<span class="token keyword">let</span> shadowPath <span class="token operator">=</span> <span class="token function">UIBezierPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
shadowPath<span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span>to<span class="token punctuation">:</span> <span class="token function">CGPoint</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> shadowRadius <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> height <span class="token operator">-</span> shadowRadius <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
shadowPath<span class="token punctuation">.</span><span class="token function">addLine</span><span class="token punctuation">(</span>to<span class="token punctuation">:</span> <span class="token function">CGPoint</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> width <span class="token operator">-</span> shadowRadius <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> height <span class="token operator">-</span> shadowRadius <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
shadowPath<span class="token punctuation">.</span><span class="token function">addLine</span><span class="token punctuation">(</span>to<span class="token punctuation">:</span> <span class="token function">CGPoint</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> width <span class="token operator">*</span> shadowWidth<span class="token punctuation">,</span> y<span class="token punctuation">:</span> height <span class="token operator">+</span> <span class="token punctuation">(</span>height <span class="token operator">*</span> shadowHeight<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
shadowPath<span class="token punctuation">.</span><span class="token function">addLine</span><span class="token punctuation">(</span>to<span class="token punctuation">:</span> <span class="token function">CGPoint</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> width <span class="token operator">*</span> <span class="token operator">-</span><span class="token punctuation">(</span>shadowWidth <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> height <span class="token operator">+</span> <span class="token punctuation">(</span>height <span class="token operator">*</span> shadowHeight<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
vw<span class="token punctuation">.</span>layer<span class="token punctuation">.</span>shadowPath <span class="token operator">=</span> shadowPath<span class="token punctuation">.</span>cgPath
vw<span class="token punctuation">.</span>layer<span class="token punctuation">.</span>shadowRadius <span class="token operator">=</span> shadowRadius
vw<span class="token punctuation">.</span>layer<span class="token punctuation">.</span>shadowOffset <span class="token operator">=</span> <span class="token punctuation">.</span>zero
vw<span class="token punctuation">.</span>layer<span class="token punctuation">.</span>shadowOpacity <span class="token operator">=</span> <span class="token number">0.2</span>
</code></pre></div><div><img src="https://user-images.githubusercontent.com/50784573/112991375-01736000-91a2-11eb-91a6-34e6aeaa895a.png"></div> <h2 id="flat-long-shadows"><a href="#flat-long-shadows" class="header-anchor">#</a> Flat, long shadows</h2> <p>This shadow effect is particularly prevalent in modern design, where shadows are more of a design feature rather than providing any sort of function. Here, the shadow is sharp-edged and moves continuously off into the infinite distance at 45-degree angle.</p> <div class="language-swift extra-class"><pre class="language-swift"><code>vw<span class="token punctuation">.</span>layer<span class="token punctuation">.</span>shadowRadius <span class="token operator">=</span> <span class="token number">0</span>
vw<span class="token punctuation">.</span>layer<span class="token punctuation">.</span>shadowOffset <span class="token operator">=</span> <span class="token punctuation">.</span>zero
vw<span class="token punctuation">.</span>layer<span class="token punctuation">.</span>shadowOpacity <span class="token operator">=</span> <span class="token number">0.2</span>

<span class="token comment">// how far the bottom of the shadow should be offset</span>
<span class="token keyword">let</span> shadowOffsetX<span class="token punctuation">:</span> <span class="token builtin">CGFloat</span> <span class="token operator">=</span> <span class="token number">2000</span>
<span class="token keyword">let</span> shadowPath <span class="token operator">=</span> <span class="token function">UIBezierPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
shadowPath<span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span>to<span class="token punctuation">:</span> <span class="token function">CGPoint</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> height<span class="token punctuation">)</span><span class="token punctuation">)</span>
shadowPath<span class="token punctuation">.</span><span class="token function">addLine</span><span class="token punctuation">(</span>to<span class="token punctuation">:</span> <span class="token function">CGPoint</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> width<span class="token punctuation">,</span> y<span class="token punctuation">:</span> height<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// make the bottom of the shadow finish a long way away, and pushed by our X offset</span>
shadowPath<span class="token punctuation">.</span><span class="token function">addLine</span><span class="token punctuation">(</span>to<span class="token punctuation">:</span> <span class="token function">CGPoint</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> width <span class="token operator">+</span> shadowOffsetX<span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
shadowPath<span class="token punctuation">.</span><span class="token function">addLine</span><span class="token punctuation">(</span>to<span class="token punctuation">:</span> <span class="token function">CGPoint</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> shadowOffsetX<span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
vw<span class="token punctuation">.</span>layer<span class="token punctuation">.</span>shadowPath <span class="token operator">=</span> shadowPath<span class="token punctuation">.</span>cgPath

view<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token function">UIColor</span><span class="token punctuation">(</span>red<span class="token punctuation">:</span> <span class="token number">230</span> <span class="token operator">/</span> <span class="token number">255</span><span class="token punctuation">,</span> green<span class="token punctuation">:</span> <span class="token number">126</span> <span class="token operator">/</span> <span class="token number">255</span><span class="token punctuation">,</span> blue<span class="token punctuation">:</span> <span class="token number">34</span> <span class="token operator">/</span> <span class="token number">255</span><span class="token punctuation">,</span> alpha<span class="token punctuation">:</span> <span class="token number">1.0</span><span class="token punctuation">)</span>
</code></pre></div><div><img src="https://user-images.githubusercontent.com/50784573/112991378-020bf680-91a2-11eb-81db-368db5fb75c9.png"></div> <h2 id="extensions"><a href="#extensions" class="header-anchor">#</a> Extensions</h2> <div class="language-swift extra-class"><pre class="language-swift"><code><span class="token keyword">extension</span> <span class="token builtin">UIView</span> <span class="token punctuation">{</span>
    
    <span class="token keyword">func</span> <span class="token function">makeEdges</span><span class="token punctuation">(</span>cornerRadius<span class="token punctuation">:</span> <span class="token builtin">CGFloat</span><span class="token punctuation">,</span> borderWidth<span class="token punctuation">:</span> <span class="token builtin">CGFloat</span><span class="token punctuation">,</span> <span class="token number">_</span> color<span class="token punctuation">:</span> <span class="token builtin">CGColor</span> <span class="token operator">=</span> <span class="token builtin">UIColor</span><span class="token punctuation">.</span>white<span class="token punctuation">.</span>cgColor<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        layer<span class="token punctuation">.</span>cornerRadius <span class="token operator">=</span> cornerRadius
        layer<span class="token punctuation">.</span>borderWidth <span class="token operator">=</span> borderWidth
        layer<span class="token punctuation">.</span>borderColor <span class="token operator">=</span> color
    <span class="token punctuation">}</span>
    
    <span class="token keyword">func</span> <span class="token function">makeShadow</span><span class="token punctuation">(</span>opacity<span class="token punctuation">:</span> <span class="token builtin">Float</span><span class="token punctuation">,</span> radius<span class="token punctuation">:</span> <span class="token builtin">CGFloat</span><span class="token punctuation">,</span> <span class="token number">_</span> color<span class="token punctuation">:</span> <span class="token builtin">CGColor</span> <span class="token operator">=</span> <span class="token builtin">UIColor</span><span class="token punctuation">.</span>systemGray4<span class="token punctuation">.</span><span class="token function">withAlphaComponent</span><span class="token punctuation">(</span><span class="token number">0.7</span><span class="token punctuation">)</span><span class="token punctuation">.</span>cgColor<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        layer<span class="token punctuation">.</span>shadowColor <span class="token operator">=</span> color
        layer<span class="token punctuation">.</span>shadowOpacity <span class="token operator">=</span> opacity
        layer<span class="token punctuation">.</span>shadowRadius <span class="token operator">=</span> radius
        layer<span class="token punctuation">.</span>shadowOffset <span class="token operator">=</span> <span class="token function">CGSize</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">func</span> <span class="token function">makeShadowWithCAShapeLayer</span><span class="token punctuation">(</span>roundedRect<span class="token punctuation">:</span> <span class="token builtin">CGRect</span><span class="token punctuation">,</span> opacity<span class="token punctuation">:</span> <span class="token builtin">Float</span><span class="token punctuation">,</span> radius<span class="token punctuation">:</span> <span class="token builtin">CGFloat</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> shadowLayer <span class="token operator">=</span> <span class="token function">CAShapeLayer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        
        shadowLayer<span class="token punctuation">.</span>path <span class="token operator">=</span> <span class="token function">UIBezierPath</span><span class="token punctuation">(</span>roundedRect<span class="token punctuation">:</span> roundedRect<span class="token punctuation">,</span> cornerRadius<span class="token punctuation">:</span> radius<span class="token punctuation">)</span><span class="token punctuation">.</span>cgPath
        shadowLayer<span class="token punctuation">.</span>fillColor <span class="token operator">=</span> <span class="token builtin">UIColor</span><span class="token punctuation">.</span>black<span class="token punctuation">.</span>cgColor

        shadowLayer<span class="token punctuation">.</span>shadowColor <span class="token operator">=</span> <span class="token builtin">UIColor</span><span class="token punctuation">.</span>systemGray4<span class="token punctuation">.</span>cgColor
        shadowLayer<span class="token punctuation">.</span>shadowPath <span class="token operator">=</span> shadowLayer<span class="token punctuation">.</span>path
        shadowLayer<span class="token punctuation">.</span>shadowOffset <span class="token operator">=</span> <span class="token function">CGSize</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> <span class="token number">0.0</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">0.0</span><span class="token punctuation">)</span>
        shadowLayer<span class="token punctuation">.</span>shadowOpacity <span class="token operator">=</span> opacity
        shadowLayer<span class="token punctuation">.</span>shadowRadius <span class="token operator">=</span> radius

        layer<span class="token punctuation">.</span><span class="token function">insertSublayer</span><span class="token punctuation">(</span>shadowLayer<span class="token punctuation">,</span> at<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="references"><a href="#references" class="header-anchor">#</a> References</h2> <p><a href="https://www.hackingwithswift.com/articles/155/advanced-uiview-shadow-effects-using-shadowpath" target="_blank" rel="noopener noreferrer">Advanced UIView shadow effects using shadowPath<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/TIL/view/uifont-uicolor-extensions.html" class="prev">
        [HowTo] Extensions for UIColor &amp; UIFont
      </a></span> <span class="next"><a href="/TIL/graphics-animation/avfoundation.html">
        [HowTo] Video as Background with AVFoundation
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/TIL/assets/js/app.980bea45.js" defer></script><script src="/TIL/assets/js/2.25c8762d.js" defer></script><script src="/TIL/assets/js/40.5e974a0a.js" defer></script>
  </body>
</html>
